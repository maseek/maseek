<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Tomáš Zemanovič">  <meta name="keywords" content="programming languages, swift, haskell, functional programming, language design, type safety" />
 
    <link rel="shortcut icon" href="../../favicon.ico">

    <title>Tomáš Zemanovič :: first-class language constructs vs. special syntax</title>

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700|Playfair+Display+SC:400,700" rel="stylesheet" type="text/css">
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/style.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->


    <!-- for video recording POC -->
    <!-- <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script> -->
    <!-- <script src="https://cdn.webrtc-experiment.com/MediaStreamRecorder.js"> </script> -->
    <!-- for Edge/FF/Chrome/Opera/etc. getUserMedia support -->
    <!-- <script src="https://cdn.webrtc-experiment.com/gumadapter.js"></script> -->
    <!-- for S3 upload -->
    <!-- <script src="https://sdk.amazonaws.com/js/aws-sdk-2.82.0.min.js"></script> -->

</head>

<body role="document">
    <div class="navigation" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
                <a class="navbar-brand" href="../../"><img src="../../images/logo.png" alt="maseek" /></a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li class="active"><a href="../../">blog</a></li>
                    <li><a href="../../projects">projects</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container" role="main">
        <h1>first-class language constructs vs. special syntax</h1>
<div class="info">
    <i class="fa fa-calendar"></i> November 11, 2017
</div>
<div class="post-body">
	<p>While working on an iOS project written in Swift, XCode has offered to migrate my code Swift 4. Having low expectations from XCode, I anticipated problems. I hit build…</p>
<p>What’s that, Swift Compiler Errors? Let’s take a look.</p>
<blockquote>
<p>‘subtracting’ is unavailable: Please use operators instead.</p>
</blockquote>
<p>Here’s the offending line:</p>
<pre class="swift"><code>if let yMove = lastYScrollOffset?.subtracting(offset.y),
   yMove &lt; 0 {
      ...</code></pre>
<p>The <code>yScrollOffset</code> in here is a ‘magical’ optional value. Magical in a sense that there is a lot of special syntax built into the language to support it, Swift’s “modern approach to safety”, such as the <code>if let</code> binding used above. I remember deciding to call the operator by its function name deliberately to be able to call it on the optional value inside this conditional binding. I couldn’t find any other way to do the same with the operator and now this function is “unavailable”, whatever that means ¯\<em>(ツ)</em>/¯.</p>
<p>Swift is surely a step-up from Objective-C, but it feels like its approach of mimicking functional programming concepts, while trying so hard to be different, is futile to say at least. I can’t help but compare it with my preferred ML-like languages, such as Haskell. In Haskell, optional type <code>Maybe</code> doesn’t need any magical syntax. It suffices that it’s instance of <code>Functor</code> type class, which gives you a way to work with it that is common to all the instances of <code>Functor</code> (there are many). Thusly, you can use operators on optional types with little hassle. Imagine:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">case</span> fmap (\lastY <span class="ot">-&gt;</span> lastY <span class="fu">-</span> y offset) lastYScrollOffset <span class="kw">of</span>
    <span class="dt">Just</span> yMove <span class="fu">|</span> yMove <span class="fu">&lt;</span> <span class="dv">0</span> <span class="ot">-&gt;</span> 
        <span class="fu">...</span></code></pre></div>
<p>This may seem like a trivial issue, but I run into it many times over in many different languages that have some special syntax for things that can be elegantly solved with a good type system. The attention that is required on language’s peculiarities is attention taken away from the thing that I’m building.</p>
<blockquote>
<p>Simple &gt; Complex &gt; Complicated</p>
</blockquote>
<p>Simple is better than complex, complex is better than complicated. When it comes to programming languages, Haskell is a perfect example of simple first-class language constructs, while special syntax constructs found in many other languages usually push you toward the other side of the spectrum, especially once you try to combine them.</p>
</div>

<div id="sociallinks" class="social-share tooltips">
    <a href="../../" class="red" data-toggle="tooltip" data-placement="top" title data-original-title="back"><i class="fa fa-arrow-circle-o-left"></i></a>
    <a href="https://twitter.com/home?status=/posts/special-syntax/index.html" target="_blank" data-toggle="tooltip" data-placement="top" title data-original-title="tweet"><i class="fa fa-twitter"></i></a>
    <a href="http://www.facebook.com/sharer/sharer.php?u=/posts/special-syntax/index.html" target="_blank" data-toggle="tooltip" data-placement="top" title data-original-title="share on facebook"><i class="fa fa-facebook"></i></a>
    <a href="https://plus.google.com/share?url=/posts/special-syntax/index.html" target="_blank" data-toggle="tooltip" data-placement="top" title data-original-title="share on google+"><i class="fa fa-google-plus"></i></a>
    <a href="https://github.com/maseek/maseek-codes/blob/master/src/posts/special-syntax.markdown" class="red" target="_blank" data-toggle="tooltip" data-placement="top" title data-original-title="edit on github"><i class="fa fa-github-alt"></i></a>
</div>
<script>
(function(){window.addEventListener("DOMContentLoaded",function(){
                                    var url=document.location;
                                    var links=document.getElementById("sociallinks")
                                    .getElementsByTagName('a');
                                    for (var i=0;i!=links.length;i++){
                                    links[i].setAttribute("href",
                                        links[i].href.replace('/posts/special-syntax/index.html',url));}})})();
</script>

<div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = 'maseek';

(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



        <div class="footer">
            <div class="social-links">
                <a class="social" href="mailto:tzemanovic@gmail.com" target="_blank">
                <span class="symbol"><span class="zoom fa-stack fa-lg">
                        <i class="fa fa-square fa-stack-2x"></i>
                        <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                </span></span>
            </a>
                <a class="social" href="https://twitter.com/tzemanovic" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>
                <a class="social" href="https://github.com/tzemanovic" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>
                <a class="social" href="../../feed.xml" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>
                <a class="social" href="https://au.linkedin.com/in/tomáš-zemanovič-19680740" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>

            </div>
            <div class="about">
                <p>Tomáš Zemanovič<br />Glasgow</p>
                <p>made with <a href="http://jaspervdj.be/hakyll/" target="_blank">Hakyll</a></p>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="../../js/isotope.pkgd.min.js"></script>
    <!-- bashe, c++, haskell -->
    <script src="../../js/maseek.min.js"></script>
</body>

</html>
