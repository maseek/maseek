<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Tomáš Zemanovič"> 
    <link rel="shortcut icon" href="./favicon.ico">

    <title>tzemanovic :: l11local-tokbox-chrome</title>

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700|Playfair+Display+SC:400,700" rel="stylesheet" type="text/css">
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->


    <!-- for video recording POC -->
    <!-- <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script> -->
    <!-- <script src="https://cdn.webrtc-experiment.com/MediaStreamRecorder.js"> </script> -->
    <!-- for Edge/FF/Chrome/Opera/etc. getUserMedia support -->
    <!-- <script src="https://cdn.webrtc-experiment.com/gumadapter.js"></script> -->
    <!-- for S3 upload -->
    <!-- <script src="https://sdk.amazonaws.com/js/aws-sdk-2.82.0.min.js"></script> -->

</head>

<body role="document">
    <div class="navigation" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
                <a class="navbar-brand" href="./"><img src="./images/logo.png" alt="maseek" /></a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="./">blog</a></li>
                    <li><a href="./projects">projects</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container" role="main">
        <!-- Adapted from https://github.com/opentok/screensharing-extensions/blob/master/screensharing-test.html -->
<script src="//static.opentok.com/v2/js/opentok.js"></script>
<script type="text/javascript">

 // Go to https://dashboard.tokbox.com/ to get your OpenTok API Key and to generate
 // a test session ID and token:
 var apiKey    = '45913722',
     sessionId = '1_MX40NTkxMzcyMn5-MTQ5OTg0NTYzODgyOX5vSVc0R3lXV0lMU3JtNU1TK3FxcDhMZm9-fg',
     token     = 'T1==cGFydG5lcl9pZD00NTkxMzcyMiZzaWc9MzUwYjlhZDQyMDBkZDU5YzllNGM0NjU1MDQzYTM3YTI5NjJiYzdmZTpzZXNzaW9uX2lkPTJfTVg0ME5Ua3hNemN5TW41LU1UUTVPVGd6TkRjd05EZzRNWDVUYkdwV1FtTnVNMkp2Y1RKNll6QnpWVEYxTUhkMlQwMS1mZyclMkMmY3JlYXRlX3RpbWU9MTQ5OTg0NTcxNSZub25jZT0wLjU2MTk5NTY5MzE3ODk5ODImcm9sZT1wdWJsaXNoZXImZXhwaXJlX3RpbWU9MTUwMjQzNzcxMCZpbml0aWFsX2xheW91dF9jbGFzc19saXN0PQ==';

 // Replace this with the ID for your Chrome screen-sharing extension, which you can
 // get at chrome://extensions/:

 var extensionId = 'kjfcooadbokjecaohkjjdbckjpaeaelc';

 // If you register your domain with the the Firefox screen-sharing whitelist, instead of using
 // a Firefox screen-sharing extension, set this to the Firefox version number, such as 36, in which
 // your domain was added to the whitelist:

 var ffWhitelistVersion; // = '36';

 var session = OT.initSession(apiKey, sessionId);

 session.connect(token, function(error) {
   if (error) {
     alert('Error connecting to session: ' + error.message);
     return;
   }
   // publish a stream using the camera and microphone:
   var publisher = OT.initPublisher('camera-publisher');
   session.publish(publisher);
   /* document.getElementById('shareBtn').disabled = false;*/
 });

 session.on('streamCreated', function(event) {
   if (event.stream.videoType === 'screen') {
     // This is a screen-sharing stream published by another client
     var subOptions = {
       width: event.stream.videoDimensions.width / 2,
       height: event.stream.videoDimensions.height / 2
     };
     session.subscribe(event.stream, 'screen-subscriber', subOptions);
   } else {
     // This is a stream published by another client using the camera and microphone
     session.subscribe(event.stream, 'camera-subscriber');
   }
 });

 // For Google Chrome only, register your extension by ID,
 // You can find it at chrome://extensions once the extension is installed
 OT.registerScreenSharingExtension('chrome', extensionId, 2);

 function screenshare() {
   OT.checkScreenSharingCapability(function(response) {
     console.info(response);
     if (!response.supported || response.extensionRegistered === false) {
       alert('This browser does not support screen sharing.');
     } else if (response.extensionInstalled === false
                && (response.extensionRequired || !ffWhitelistVersion)) {
       alert('Please install the screen-sharing extension and load this page over HTTPS.');
     } else if (ffWhitelistVersion && navigator.userAgent.match(/Firefox/)
                && navigator.userAgent.match(/Firefox\/(\d+)/)[1] < ffWhitelistVersion) {
       alert('For screen sharing, please update your version of Firefox to '
           + ffWhitelistVersion + '.');
     } else {
       // Screen sharing is available. Publish the screen.
       // Create an element, but do not display it in the HTML DOM:
       var screenContainerElement = document.createElement('div');
       var screenSharingPublisher = OT.initPublisher(
         screenContainerElement,
         { videoSource : 'screen' },
         function(error) {
           if (error) {
             alert('Something went wrong: ' + error.message);
           } else {
             session.publish(
               screenSharingPublisher,
               function(error) {
                 if (error) {
                   alert('Something went wrong: ' + error.message);
 }
 });
 }
 });
 }
 });
 }

 screenshare();
</script>


        <div class="footer">
            <div class="social-links">
                <a class="social" href="mailto:tzemanovic@gmail.com" target="_blank">
                <span class="symbol"><span class="zoom fa-stack fa-lg">
                        <i class="fa fa-square fa-stack-2x"></i>
                        <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                </span></span>
            </a>
                <a class="social" href="https://twitter.com/tzemanovic" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>
                <a class="social" href="https://github.com/tzemanovic" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>
                <a class="social" href="./feed.xml" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>
                <a class="social" href="https://au.linkedin.com/in/tomáš-zemanovič-19680740" target="_blank"><span class="symbol">
                    <span class="symbol"><span class="zoom fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                    </span></span>
            </span></a>

            </div>
            <div class="about">
                <p>Tomáš Zemanovič<br />Glasgow</p>
                <p>made with <a href="http://jaspervdj.be/hakyll/" target="_blank">Hakyll</a></p>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="./js/isotope.pkgd.min.js"></script>
    <!-- bashe, c++, haskell -->
    <script src="./js/maseek.min.js"></script>
</body>

</html>
